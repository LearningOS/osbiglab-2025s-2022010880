# 04/24 进展报告

本来打算直接合并他们写的线程和进程相关的内容，但是遇到了一些麻烦，部分原来能够通过的测试点现在无法通过。合并引发的问题比较大，因为我们仓库和他们仓库的差异太多，直接合并上游oscomp仓库的话因为线程相关的功能不全，也存在问题，导致很多测例卡死，从而没法在比赛平台上测试。最终反复讨论还是决定revert这个合并。

目前我已经大致阅读了他们的实现，我们也会参考学习他们的实现来自己手动添加相关的功能，而不是直接合并。

修复了部分平台下某些系统调用的问题，因为他们使用了和其他平台不一样的系统调用。

继续推进了代码重构工作，新增了部分syscall的接口和实现分离。

改为使用 `busybox sh`来执行 `testcase_list`中的测例，以正确解析参数划分，支持标准输入输出重定向和管道，使得用户程序有父进程。

未来的终极目标可能是写一个类似 `init`的东西，把 `busybox`挂载到 `/bin`上面，初始化环境变量 `PATH`，然后依次运行 `testcase_list`中的内容。因为一个完整的OS不止是包括内核，`rootfs`中的二进制工具和脚本也是OS环境的重要组成。

新版的测试镜像中仍然存在部分问题，例如 `basic_testcode.sh`中的错误，没有合并上游仓库的修正。

下一步计划：完成线程部分内容，完成锁和信号量相关的内容，然后开始探索一下其他的测例。
